<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Service_WindowsAzure - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.twitter.html">Zend_Service_Twitter</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.service.windowsazure" class="section"><div class="info"><h1 class="title">Zend_Service_WindowsAzure</h1></div>
    

    <div class="section" id="zend.service.windowsazure.introduction" name="zend.service.windowsazure.introduction"><div class="info"><h1 class="title">Introduction</h1></div>
        

        <p class="para">
          Windows Azure is the name for Microsoft&#039;s Software + Services platform, an operating
          system in the cloud providing services for hosting, management, scalable storage with
          support for simple blobs, tables, and queues, as well as a management infrastructure for
          provisioning and geo-distribution of cloud-based services, and a development platform for
          the Azure Services layer.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.sdk" name="zend.service.windowsazure.sdk"><div class="info"><h1 class="title">Installing the Windows Azure SDK</h1></div>
        

        <p class="para">
            There are two development scenario&#039;s when working with Windows Azure.
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    You can develop your application using
                    <span class="classname">Zend_Service_WindowsAzure</span> and the Windows Azure
                    <acronym class="acronym">SDK</acronym>, which provides a local developent environment of the
                    services provided by Windows Azure&#039;s cloud infrastructure.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    You can develop your application using
                    <span class="classname">Zend_Service_WindowsAzure</span>, working directly with the
                    Windows Azure cloud infrastructure.
                </p>
            </li>
        </ul>

        <p class="para">
            The first case requires you to install the <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=6967ff37-813e-47c7-b987-889124b43abd&displaylang=en" class="link external">&raquo; Windows
                Azure SDK</a> on your development machine. It is currently only available for
            Windows environments; progress is being made on a Java-based version of the
            <acronym class="acronym">SDK</acronym> which can run on any platform.
        </p>

        <p class="para">
            The latter case requires you to have an account at <a href="http://www.azure.com" class="link external">&raquo; Azure.com</a>.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.apiDocumentation" name="zend.service.windowsazure.apiDocumentation"><div class="info"><h1 class="title">API Documentation</h1></div>
        

        <p class="para">
            The <span class="classname">Zend_Service_WindowsAzure</span> class provides the
            <acronym class="acronym">PHP</acronym> wrapper to the Windows Azure <acronym class="acronym">REST</acronym> interface.
            Please consult the <a href="http://msdn.microsoft.com/en-us/library/dd179355.aspx" class="link external">&raquo; REST
                documentation</a> for detailed description of the service. You will need to be
            familiar with basic concepts in order to use this service.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.features" name="zend.service.windowsazure.features"><div class="info"><h1 class="title">Features</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Service_WindowsAzure</span> provides the following functionality:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <acronym class="acronym">PHP</acronym> classes for Windows Azure Blobs, Tables and Queues (for
                    <acronym class="acronym">CRUD</acronym> operations)
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Helper Classes for <acronym class="acronym">HTTP</acronym> transport, AuthN, AuthZ,
                    <acronym class="acronym">REST</acronym> and Error Management
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Manageability, Instrumentation and Logging support
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.service.windowsazure.architecture" name="zend.service.windowsazure.architecture"><div class="info"><h1 class="title">Architecture</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Service_WindowsAzure</span> provides access to Windows Azure&#039;s
            storage, computation and management interfaces by abstracting the
            <acronym class="acronym">REST</acronym> - <acronym class="acronym">XML</acronym> interface Windows Azure provides into
            a simple <acronym class="acronym">PHP</acronym> <acronym class="acronym">API</acronym>.
        </p>

        <p class="para">
            An application built using <span class="classname">Zend_Service_WindowsAzure</span> can access
            Windows Azure&#039;s features, no matter if it is hosted on the Windows Azure platform or on
            an in-premise web server.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.blob" name="zend.service.windowsazure.storage.blob"><div class="info"><h1 class="title">Zend_Service_WindowsAzure_Storage_Blob</h1></div>
    

    <p class="para">
        Blob Storage stores sets of binary data. Blob storage offers the following three
        resources: the storage account, containers, and blobs. Within your storage account,
        containers provide a way to organize sets of blobs within your storage account.
    </p>

    <p class="para">
        Blob Storage is offered by Windows Azure as a <acronym class="acronym">REST</acronym> <acronym class="acronym">API</acronym>
        which is wrapped by the <span class="classname">Zend_Service_WindowsAzure_Storage_Blob</span> class
        in order to provide a native <acronym class="acronym">PHP</acronym> interface to the storage account.
    </p>

    <div class="section" id="zend.service.windowsazure.storage.blob.api" name="zend.service.windowsazure.storage.blob.api"><div class="info"><h1 class="title">API Examples</h1></div>
        

        <p class="para">
            This topic lists some examples of using the
            <span class="classname">Zend_Service_WindowsAzure_Storage_Blob</span> class. Other features are
            available in the download package, as well as a detailed <acronym class="acronym">API</acronym>
            documentation of those features.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.create-container" name="zend.service.windowsazure.storage.blob.api.create-container"><div class="info"><h1 class="title">Creating a storage container</h1></div>
            

            <p class="para">
                Using the following code, a blob storage container can be created on development
                storage.
            </p>

            <div class="example"><div class="info"><p><b>Example #1 Creating a storage container</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">createContainer</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testcontainer'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Container name is: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.delete-container" name="zend.service.windowsazure.storage.blob.api.delete-container"><div class="info"><h1 class="title">Deleting a storage container</h1></div>
            

            <p class="para">
                Using the following code, a blob storage container can be removed from development
                storage.
            </p>

            <div class="example"><div class="info"><p><b>Example #2 Deleting a storage container</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">deleteContainer</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testcontainer'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.storing-blob" name="zend.service.windowsazure.storage.blob.api.storing-blob"><div class="info"><h1 class="title">Storing a blob</h1></div>
            

            <p class="para">
                Using the following code, a blob can be uploaded to a blob storage container on
                development storage. Note that the container has already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #3 Storing a blob</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// upload /home/maarten/example.txt to Azure</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">putBlob</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testcontainer'</span>, <span style="color: #ff0000;">'example.txt'</span>, <span style="color: #ff0000;">'/home/maarten/example.txt'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Blob name is: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.copy-blob" name="zend.service.windowsazure.storage.blob.api.copy-blob"><div class="info"><h1 class="title">Copying a blob</h1></div>
            

            <p class="para">
                Using the following code, a blob can be copied from inside the storage account. The
                advantage of using this method is that the copy operation occurs in the Azure cloud
                and does not involve downloading the blob. Note that the container has already been
                created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #4 Copying a blob</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// copy example.txt to example2.txt</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">copyBlob</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testcontainer'</span>, <span style="color: #ff0000;">'example.txt'</span>, <span style="color: #ff0000;">'testcontainer'</span>, <span style="color: #ff0000;">'example2.txt'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Copied blob name is: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.download-blob" name="zend.service.windowsazure.storage.blob.api.download-blob"><div class="info"><h1 class="title">Downloading a blob</h1></div>
            

            <p class="para">
                Using the following code, a blob can be downloaded from a blob storage container on
                development storage. Note that the container has already been created before and a
                blob has been uploaded.
            </p>

            <div class="example"><div class="info"><p><b>Example #5 Downloading a blob</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// download file to /home/maarten/example.txt</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">getBlob</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testcontainer'</span>, <span style="color: #ff0000;">'example.txt'</span>, <span style="color: #ff0000;">'/home/maarten/example.txt'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.api.public-blob" name="zend.service.windowsazure.storage.blob.api.public-blob"><div class="info"><h1 class="title">Making a blob publicly available</h1></div>
            

            <p class="para">
                By default, blob storage containers on Windows Azure are protected from public
                viewing. If any user on the Internet should have access to a blob container, its ACL
                can be set to public. Note that this applies to a complete container and not to a
                single blob!
            </p>

            <p class="para">
                Using the following code, blob storage container ACL can be set on development
                storage. Note that the container has already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #6 Making a blob publicly available</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// make container publicly available</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">setContainerAcl</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testcontainer'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Service_WindowsAzure_Storage_Blob::<span style="color: #006600;">ACL_PUBLIC</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.blob.root" name="zend.service.windowsazure.storage.blob.root"><div class="info"><h1 class="title">Root container</h1></div>
        

        <p class="para">
            Windows Azure Blob Storage provides support to work with a &quot;root container&quot;.
            This means that a blob can be stored in the root of your storage account,
            i.e. <code class="code">http://myaccount.blob.core.windows.net/somefile.txt</code>.
        </p>

        <p class="para">
            In order to work with the root container, it should first be created using the
             <span class="methodname">createContainer()</span> method, naming the container
            <var class="varname">$root</var>. All other operations on the root container should be issued
            with the container name set to <var class="varname">$root</var>.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.blob.wrapper" name="zend.service.windowsazure.storage.blob.wrapper"><div class="info"><h1 class="title">Blob storage stream wrapper</h1></div>
        

        <p class="para">
            The Windows Azure <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym> provides support for
            registering a blob storage client as a <acronym class="acronym">PHP</acronym> file stream wrapper. The
            blob storage stream wrapper provides support for using regular file operations on
            Windows Azure Blob Storage. For example, one can open a file from Windows Azure Blob
            Storage with the  <span class="methodname">fopen()</span> function:
        </p>

        <div class="example"><div class="info"><p><b>Example #7 Example usage of blob storage stream wrapper</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$fileHandle</span> = <a href="http://www.php.net/fopen"><span style="color: #000066;">fopen</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'azure://mycontainer/myfile.txt'</span>, <span style="color: #ff0000;">'r'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// ...</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/fclose"><span style="color: #000066;">fclose</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$fileHandle</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            In order to do this, the Windows Azure <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym>
            blob storage client must be registered as a stream wrapper. This can be done by calling
            the  <span class="methodname">registerStreamWrapper()</span> method:
        </p>

        <div class="example"><div class="info"><p><b>Example #8 Registering the blob storage stream wrapper</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// registers azure:// on this storage client</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">registerStreamWrapper</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// or:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// regiters blob:// on this storage client</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">registerStreamWrapper</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'blob://'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            To unregister the stream wrapper, the  <span class="methodname">unregisterStreamWrapper()</span>
            method can be used.
        </p>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.blob.sharedaccesssig" name="zend.service.windowsazure.storage.blob.sharedaccesssig"><div class="info"><h1 class="title">Shared Access Signature</h1></div>
        

        <p class="para">
            Windows Azure Bob Storage provides a feature called &quot;Shared Access Signatures&quot;. By
            default, there is only one level of authorization possible in Windows Azure Blob
            Storage: either a container is private or it is public. Shared Access Signatures provide
            a more granular method of authorization: read, write, delete and list permissions can be
            assigned on a container or a blob and given to a specific client using an URL-based
            model.
        </p>

        <p class="para">
            An example would be the following signature:
        </p>

        <pre class="literallayout">
http://phpstorage.blob.core.windows.net/phpazuretestshared1?st=2009-08-17T09%3A06%3A17Z&amp;se=2009-08-17T09%3A56%3A17Z&amp;sr=c&amp;sp=w&amp;sig=hscQ7Su1nqd91OfMTwTkxabhJSaspx%2BD%2Fz8UqZAgn9s%3D
        </pre>

        <p class="para">
            The above signature gives write access to the &quot;phpazuretestshared1&quot;
            container of the &quot;phpstorage&quot; account.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.blob.sharedaccesssig.generate" name="zend.service.windowsazure.storage.blob.sharedaccesssig.generate"><div class="info"><h1 class="title">Generating a Shared Access Signature</h1></div>
            

            <p class="para">
                When you are the owner of a Windows Azure Bob Storage account, you can create and
                distribute a shared access key for any type of resource in your account. To do this,
                the  <span class="methodname">generateSharedAccessUrl()</span> method of the
                <span class="classname">Zend_Service_WindowsAzure_Storage_Blob</span> storage client can be
                used.
            </p>

            <p class="para">
                The following example code will generate a Shared Access Signature for write access
                in a container named &quot;container1&quot;, within a timeframe of 3000 seconds.
            </p>

            <div class="example"><div class="info"><p><b>Example #9 Generating a Shared Access Signature for a container</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>&nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sharedAccessUrl</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">generateSharedAccessUrl</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'container1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">''</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'c'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'w'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> -&gt;<span style="color: #006600;">isoDate</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> - <span style="color: #cc66cc;">500</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> -&gt;<span style="color: #006600;">isoDate</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> + <span style="color: #cc66cc;">3000</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                The following example code will generate a Shared Access Signature for read access
                in a blob named <var class="filename">test.txt</var> in a container named &quot;container1&quot;
                within a time frame of 3000 seconds.
            </p>

            <div class="example"><div class="info"><p><b>Example #10 Generating a Shared Access Signature for a blob</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>&nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sharedAccessUrl</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">generateSharedAccessUrl</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'container1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'test.txt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'b'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'r'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> -&gt;<span style="color: #006600;">isoDate</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> - <span style="color: #cc66cc;">500</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> -&gt;<span style="color: #006600;">isoDate</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> + <span style="color: #cc66cc;">3000</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.blob.sharedaccesssig.consume" name="zend.service.windowsazure.storage.blob.sharedaccesssig.consume"><div class="info"><h1 class="title">Working with Shared Access Signatures from others</h1></div>
            

            <p class="para">
                When you receive a Shared Access Signature from someone else, you can use the
                Windows Azure <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym> to work with the
                addressed resource. For example, the following signature can be retrieved from the
                owner of a storage account:
            </p>

            <pre class="literallayout">
http://phpstorage.blob.core.windows.net/phpazuretestshared1?st=2009-08-17T09%3A06%3A17Z&amp;se=2009-08-17T09%3A56%3A17Z&amp;sr=c&amp;sp=w&amp;sig=hscQ7Su1nqd91OfMTwTkxabhJSaspx%2BD%2Fz8UqZAgn9s%3D
            </pre>

            <p class="para">
                The above signature gives write access to the &quot;phpazuretestshared1&quot; &quot;container&quot; of
                the phpstorage account. Since the shared key for the account is not known, the
                Shared Access Signature can be used to work with the authorized resource.
            </p>

            <div class="example"><div class="info"><p><b>Example #11 Consuming a Shared Access Signature for a container</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Blob<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'blob.core.windows.net'</span>, <span style="color: #ff0000;">'phpstorage'</span>, <span style="color: #ff0000;">''</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">setCredentials</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Credentials_SharedAccessSignature<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">getCredentials</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>-&gt;<span style="color: #006600;">setPermissionSet</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'http://phpstorage.blob.core.windows.net/phpazuretestshared1?st=2009-08-17T09%3A06%3A17Z&amp;se=2009-08-17T09%3A56%3A17Z&amp;sr=c&amp;sp=w&amp;sig=hscQ7Su1nqd91OfMTwTkxabhJSaspx%2BD%2Fz8UqZAgn9s%3D'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">putBlob</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'phpazuretestshared1'</span>, <span style="color: #ff0000;">'NewBlob.txt'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\F</span>iles<span style="color: #000099; font-weight: bold;">\d</span>ataforazure.txt'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Note that there was no explicit permission to write to a specific blob. Instead, the
                Windows Azure <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym> determined that a
                permission was required to either write to that specific blob, or to write to its
                container. Since only a signature was available for the latter, the Windows Azure
                <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym> chose those credentials to perform
                the request on Windows Azure blob storage.
            </p>
        </div>
    </div>
</div>
    <div class="section" id="zend.service.windowsazure.storage.table" name="zend.service.windowsazure.storage.table"><div class="info"><h1 class="title">Zend_Service_WindowsAzure_Storage_Table</h1></div>
    

    <p class="para">
        The Table service offers structured storage in the form of tables.
    </p>

    <p class="para">
        Table Storage is offered by Windows Azure as a REST <acronym class="acronym">API</acronym> which is wrapped
        by the <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class in order to
        provide a native <acronym class="acronym">PHP</acronym> interface to the storage account.
    </p>

    <p class="para">
        This topic lists some examples of using the
        <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class. Other features are
        available in the download package, as well as a detailed <acronym class="acronym">API</acronym>
        documentation of those features.
    </p>

    <p class="para">
        Note that development table storage (in the Windows Azure <acronym class="acronym">SDK</acronym>) does not
        support all features provided by the <acronym class="acronym">API</acronym>. Therefore, the examples listed
        on this page are to be used on Windows Azure production table storage.
    </p>

    <div class="section" id="zend.service.windowsazure.storage.table.api" name="zend.service.windowsazure.storage.table.api"><div class="info"><h1 class="title">Operations on tables</h1></div>
        

        <p class="para">
            This topic lists some samples of operations that can be executed on tables.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.table.api.create" name="zend.service.windowsazure.storage.table.api.create"><div class="info"><h1 class="title">Creating a table</h1></div>
            

            <p class="para">
                Using the following code, a table can be created on Windows Azure production table
                storage.
            </p>

            <div class="example"><div class="info"><p><b>Example #12 Creating a table</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">createTable</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'New table name is: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.api.list" name="zend.service.windowsazure.storage.table.api.list"><div class="info"><h1 class="title">Listing all tables</h1></div>
            

            <p class="para">
                Using the following code, a list of all tables in Windows Azure production table
                storage can be queried.
            </p>

            <div class="example"><div class="info"><p><b>Example #13 Listing all tables</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">listTables</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$result</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$table</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Table name is: '</span> . <span style="color: #0000ff;">$table</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.table.entities" name="zend.service.windowsazure.storage.table.entities"><div class="info"><h1 class="title">Operations on entities</h1></div>
        

        <p class="para">
            Tables store data as collections of entities. Entities are similar to rows. An entity
            has a primary key and a set of properties. A property is a named, typed-value pair,
            similar to a column.
        </p>

        <p class="para">
            The Table service does not enforce any schema for tables, so two entities in the same
            table may have different sets of properties. Developers may choose to enforce a schema
            on the client side. A table may contain any number of entities.
        </p>

        <p class="para">
            <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> provides 2 ways of
            working with entities:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    Enforced schema
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    No enforced schema
                </p>
            </li>
        </ul>

        <p class="para">
            All examples will make use of the following enforced schema class.
        </p>

        <div class="example"><div class="info"><p><b>Example #14 Enforced schema used in samples</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> SampleEntity <span style="color: #000000; font-weight: bold;">extends</span> Zend_Service_WindowsAzure_Storage_TableEntity</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Name</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Name</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Visible Edm.Boolean</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Visible</span> = <span style="color: #000000; font-weight: bold;">false</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
            Note that if no schema class is passed into table storage methods,
            <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> automatically works with
            <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span>.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.enforced" name="zend.service.windowsazure.storage.table.entities.enforced"><div class="info"><h1 class="title">Enforced schema entities</h1></div>
            

            <p class="para">
                To enforce a schema on the client side using the
                <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class, you can create
                a class which inherits
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span>. This class
                provides some basic functionality for the
                <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class to work with a
                client-side schema.
            </p>

            <p class="para">
                Base properties provided by
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> are:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        PartitionKey (exposed through  <span class="methodname">getPartitionKey()</span> and
                         <span class="methodname">setPartitionKey()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        RowKey (exposed through  <span class="methodname">getRowKey()</span> and
                         <span class="methodname">setRowKey()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Timestamp (exposed through  <span class="methodname">getTimestamp()</span> and
                         <span class="methodname">setTimestamp()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Etag value (exposed through  <span class="methodname">getEtag()</span> and
                         <span class="methodname">setEtag()</span>)
                    </p>
                </li>
            </ul>

            <p class="para">
                Here&#039;s a sample class inheriting
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span>:
            </p>

            <div class="example"><div class="info"><p><b>Example #15 Sample enforced schema class</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> SampleEntity <span style="color: #000000; font-weight: bold;">extends</span> Zend_Service_WindowsAzure_Storage_TableEntity</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Name</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Name</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Visible Edm.Boolean</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Visible</span> = <span style="color: #000000; font-weight: bold;">false</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                The <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class will map
                any class inherited from
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> to Windows
                Azure table storage entities with the correct data type and property name. All there
                is to storing a property in Windows Azure is adding a docblock comment to a public
                property or public getter/setter, in the following format:
            </p>

            <div class="example"><div class="info"><p><b>Example #16 Enforced property</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> * @azure &lt;property name in Windows Azure&gt; &lt;optional property type&gt;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">public</span> $&lt;property name in PHP&gt;;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Let&#039;s see how to define a propety &quot;Age&quot; as an integer on Windows Azure table
                storage:
            </p>

            <div class="example"><div class="info"><p><b>Example #17 Sample enforced property</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> * @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Note that a property does not necessarily have to be named the same on Windows Azure
                table storage. The Windows Azure table storage property name can be defined as well
                as the type.
            </p>

            <p class="para">
                The following data types are supported:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Binary</tt></b> - An array of bytes up to 64 KB in size.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Boolean</tt></b> - A boolean value.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.DateTime</tt></b> - A 64-bit value expressed as Coordinated
                        Universal Time (UTC). The supported DateTime range begins from 12:00
                        midnight, January 1, 1601 A.D. (C.E.), Coordinated Universal Time (UTC). The
                        range ends at December 31st, 9999.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Double</tt></b> - A 64-bit floating point value.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Guid</tt></b> - A 128-bit globally unique identifier.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Int32</tt></b> - A 32-bit integer.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Int64</tt></b> - A 64-bit integer.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.String</tt></b> - A UTF-16-encoded value. String values may
                        be up to 64 KB in size.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.dynamic" name="zend.service.windowsazure.storage.table.entities.dynamic"><div class="info"><h1 class="title">No enforced schema entities (a.k.a. DynamicEntity)</h1></div>
            

            <p class="para">
                To use the <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class
                without defining a schema, you can make use of the
                <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span> class.
                This class inherits
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> like an
                enforced schema class does, but contains additional logic to make it dynamic and not
                bound to a schema.
            </p>

            <p class="para">
                Base properties provided by
                <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span> are:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        PartitionKey (exposed through  <span class="methodname">getPartitionKey()</span> and
                         <span class="methodname">setPartitionKey()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        RowKey (exposed through  <span class="methodname">getRowKey()</span> and
                         <span class="methodname">setRowKey()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Timestamp (exposed through  <span class="methodname">getTimestamp()</span> and
                         <span class="methodname">setTimestamp()</span>)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Etag value (exposed through  <span class="methodname">getEtag()</span> and
                         <span class="methodname">setEtag()</span>)
                    </p>
                </li>
            </ul>

            <p class="para">
                Other properties can be added on the fly. Their Windows Azure table storage type
                will be determined on-the-fly:
            </p>

            <div class="example"><div class="info"><p><b>Example #18 
                    Dynamicaly adding properties
                    Zend_Service_WindowsAzure_Storage_DynamicTableEntity
                </b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_DynamicTableEntity<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'000001'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Name'</span>; <span style="color: #808080; font-style: italic;">// Will add property &quot;Name&quot; of type &quot;Edm.String&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Age</span>&nbsp; = <span style="color: #cc66cc;">25</span>;&nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">// Will add property &quot;Age&quot; of type &quot;Edm.Int32&quot;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Optionally, a property type can be enforced:
            </p>

            <div class="example"><div class="info"><p><b>Example #19 
                    Forcing property types on Zend_Service_WindowsAzure_Storage_DynamicTableEntity
                </b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_DynamicTableEntity<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'000001'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Name'</span>; <span style="color: #808080; font-style: italic;">// Will add property &quot;Name&quot; of type &quot;Edm.String&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Age</span>&nbsp; = <span style="color: #cc66cc;">25</span>;&nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">// Will add property &quot;Age&quot; of type &quot;Edm.Int32&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Change type of property &quot;Age&quot; to &quot;Edm.Int32&quot;:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">setAzurePropertyType</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Age'</span>, <span style="color: #ff0000;">'Edm.Int64'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                The <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> class
                automatically works with
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> if no specific
                class is passed into Table Storage methods.
            </p>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.api" name="zend.service.windowsazure.storage.table.entities.api"><div class="info"><h1 class="title">Entities API examples</h1></div>
            

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.insert" name="zend.service.windowsazure.storage.table.entities.api.insert"><div class="info"><h1 class="title">Inserting an entity</h1></div>
                

                <p class="para">
                    Using the following code, an entity can be inserted into a table named
                    &quot;testtable&quot;. Note that the table has already been created before.
                </p>

                <div class="example"><div class="info"><p><b>Example #20 Inserting an entity</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #000000; font-weight: bold;">new</span> SampleEntity <span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">FullName</span> = <span style="color: #ff0000;">&quot;Maarten&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Age</span> = <span style="color: #cc66cc;">25</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Visible</span> = <span style="color: #000000; font-weight: bold;">true</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">insertEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Check the timestamp and etag of the newly inserted entity</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Timestamp: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">getTimestamp</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Etag: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">getEtag</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.retrieve-by-id" name="zend.service.windowsazure.storage.table.entities.api.retrieve-by-id"><div class="info"><h1 class="title">Retrieving an entity by partition key and row key</h1></div>
                

                <p class="para">
                    Using the following code, an entity can be retrieved by partition key and row
                    key. Note that the table and entity have already been created before.
                </p>

                <div class="example"><div class="info"><p><b>Example #21 Retrieving an entity by partition key and row key</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>= <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.updating" name="zend.service.windowsazure.storage.table.entities.api.updating"><div class="info"><h1 class="title">Updating an entity</h1></div>
                

                <p class="para">
                    Using the following code, an entity can be updated. Note that the table and
                    entity have already been created before.
                </p>

                <div class="example"><div class="info"><p><b>Example #22 Updating an entity</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'New name'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">updateEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>

                <p class="para">
                    If you want to make sure the entity has not been updated before, you can make
                    sure the <acronym class="acronym">Etag</acronym> of the entity is checked. If the entity already
                    has had an update, the update will fail to make sure you do not overwrite any
                    newer data.
                </p>

                <div class="example"><div class="info"><p><b>Example #23 Updating an entity (with Etag check)</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'New name'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// last parameter instructs the Etag check:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">updateEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span>, <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.delete" name="zend.service.windowsazure.storage.table.entities.api.delete"><div class="info"><h1 class="title">Deleting an entity</h1></div>
                

                <p class="para">
                    Using the following code, an entity can be deleted. Note that the table and
                    entity have already been created before.
                </p>

                <div class="example"><div class="info"><p><b>Example #24 Deleting an entity</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">deleteEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.querying" name="zend.service.windowsazure.storage.table.entities.querying"><div class="info"><h1 class="title">Performing queries</h1></div>
            

            <p class="para">
                Queries in <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> table
                storage can be performed in two ways:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        By manually creating a filter condition (involving learning a new query
                        language)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        By using the fluent interface provided by the
                        <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span>
                    </p>
                </li>
            </ul>

            <p class="para">
                Using the following code, a table can be queried using a filter condition. Note
                that the table and entities have already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #25 Performing queries using a filter condition</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">storageClient</span>-&gt;<span style="color: #006600;">retrieveEntities</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'Name eq <span style="color: #000099; font-weight: bold;">\'</span>Maarten<span style="color: #000099; font-weight: bold;">\'</span> and PartitionKey eq <span style="color: #000099; font-weight: bold;">\'</span>partition1<span style="color: #000099; font-weight: bold;">\'</span>'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Name: '</span> . <span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Using the following code, a table can be queried using a fluent interface. Note
                that the table and entities have already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #26 Performing queries using a fluent interface</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">storageClient</span>-&gt;<span style="color: #006600;">retrieveEntities</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">select</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">from</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$tableName</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">where</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Name eq ?'</span>, <span style="color: #ff0000;">'Maarten'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">andWhere</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'PartitionKey eq ?'</span>, <span style="color: #ff0000;">'partition1'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Name: '</span> . <span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.batch" name="zend.service.windowsazure.storage.table.entities.batch"><div class="info"><h1 class="title">Batch operations</h1></div>
            

            <p class="para">
                This topic demonstrates how to use the table entity group transaction features
                provided by Windows Azure table storage. Windows Azure table storage supports batch
                transactions on entities that are in the same table and belong to the same partition
                group. A transaction can include at most 100 entities.
            </p>

            <p class="para">
                The following example uses a batch operation (transaction) to insert a set of
                entities into the &quot;testtable&quot; table. Note that the table has already been created
                before.
            </p>

            <div class="example"><div class="info"><p><b>Example #27 Executing a batch operation</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Start batch</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$batch</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">startBatch</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Insert entities in batch</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = generateEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">insertEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$tableName</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Commit</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$batch</span>-&gt;<span style="color: #006600;">commit</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.table.sessionhandler" name="zend.service.windowsazure.storage.table.sessionhandler"><div class="info"><h1 class="title">Table storage session handler</h1></div>
        

        <p class="para">
            When running a <acronym class="acronym">PHP</acronym> application on the Windows Azure platform in a
            load-balanced mode (running 2 Web Role instances or more), it is important that
            <acronym class="acronym">PHP</acronym> session data can be shared between multiple Web Role instances.
            The Windows Azure <acronym class="acronym">SDK</acronym> for <acronym class="acronym">PHP</acronym> provides the
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> class, which uses
            Windows Azure Table Storage as a session handler for <acronym class="acronym">PHP</acronym>
            applications.
        </p>

        <p class="para">
            To use the <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> session
            handler, it should be registered as the default session handler for your
            <acronym class="acronym">PHP</acronym> application:
        </p>

        <div class="example"><div class="info"><p><b>Example #28 Registering table storage session handler</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_SessionHandler<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> , <span style="color: #ff0000;">'sessionstable'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span>-&gt;<span style="color: #006600;">register</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            The above classname registers the
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> session handler and will
            store sessions in a table called &quot;sessionstable&quot;.
        </p>

        <p class="para">
            After registration of the
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> session handler,
            sessions can be started and used in the same way as a normal <acronym class="acronym">PHP</acronym>
            session:
        </p>

        <div class="example"><div class="info"><p><b>Example #29 Using table storage session handler</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_SessionHandler<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> , <span style="color: #ff0000;">'sessionstable'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span>-&gt;<span style="color: #006600;">register</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/session_start"><span style="color: #000066;">session_start</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<a href="http://www.php.net/isset"><span style="color: #000066;">isset</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$_SESSION</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'firstVisit'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$_SESSION</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'firstVisit'</span><span style="color: #66cc66;">&#93;</span> = <a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// ...</span></div></li></ol></div></div></div>

        </div>

        <div class="warning"><b class="warning">Warning</b>
            <p class="para">
                The <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> session handler
                should be registered before a call to  <span class="methodname">session_start()</span>
                is made!
            </p>
        </div>
    </div>
</div>
    <div class="section" id="zend.service.windowsazure.storage.queue" name="zend.service.windowsazure.storage.queue"><div class="info"><h1 class="title">Zend_Service_WindowsAzure_Storage_Queue</h1></div>
    

    <p class="para">
        The Queue service stores messages that may be read by any client who has access to the
        storage account.
    </p>

    <p class="para">
        A queue can contain an unlimited number of messages, each of which can be up to 8 KB in
        size. Messages are generally added to the end of the queue and retrieved from the front of
        the queue, although first in/first out (<acronym class="acronym">FIFO</acronym>) behavior is not guaranteed.
        If you need to store messages larger than 8 KB, you can store message data as a queue or in
        a table and then store a reference to the data as a message in a queue.
    </p>

    <p class="para">
        Queue Storage is offered by Windows Azure as a <acronym class="acronym">REST</acronym>
        <acronym class="acronym">API</acronym> which is wrapped by the
        <span class="classname">Zend_Service_WindowsAzure_Storage_Queue</span> class in order to
        provide a native <acronym class="acronym">PHP</acronym> interface to the storage account.
    </p>

    <div class="section" id="zend.service.windowsazure.storage.queue.api" name="zend.service.windowsazure.storage.queue.api"><div class="info"><h1 class="title">API Examples</h1></div>
        

        <p class="para">
            This topic lists some examples of using the
            <span class="classname">Zend_Service_WindowsAzure_Storage_Queue</span> class. Other features
            are available in the download package, as well as a detailed <acronym class="acronym">API</acronym>
            documentation of those features.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.queue.api.create-queue" name="zend.service.windowsazure.storage.queue.api.create-queue"><div class="info"><h1 class="title">Creating a queue</h1></div>
            

            <p class="para">
                Using the following code, a queue can be created on development storage.
            </p>

            <div class="example"><div class="info"><p><b>Example #30 Creating a queue</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">createQueue</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Queue name is: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.queue.api.delete-queue" name="zend.service.windowsazure.storage.queue.api.delete-queue"><div class="info"><h1 class="title">Deleting a queue</h1></div>
            

            <p class="para">
                Using the following code, a queue can be removed from development storage.
            </p>

            <div class="example"><div class="info"><p><b>Example #31 Deleting a queue</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">deleteQueue</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.queue.api.storing-queue" name="zend.service.windowsazure.storage.queue.api.storing-queue"><div class="info"><h1 class="title">Adding a message to a queue</h1></div>
            

            <p class="para">
                Using the following code, a message can be added to a queue on development storage.
                Note that the queue has already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #32 Adding a message to a queue</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 3600 = time-to-live of the message, if omitted defaults to 7 days</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">putMessage</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span>, <span style="color: #ff0000;">'This is a test message'</span>, <span style="color: #cc66cc;">3600</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.queue.api.read-queue" name="zend.service.windowsazure.storage.queue.api.read-queue"><div class="info"><h1 class="title">Reading a message from a queue</h1></div>
            

            <p class="para">
                Using the following code, a message can be read from a queue on development storage.
                Note that the queue and message have already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #33 Reading a message from a queue</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// retrieve 10 messages at once</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$messages</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">getMessages</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span>, <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$messages</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$message</span>-&gt;<span style="color: #006600;">MessageText</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                The messages that are read using  <span class="methodname">getMessages()</span> will be
                invisible in the queue for 30 seconds, after which the messages will re-appear in
                the queue. To mark a message as processed and remove it from the queue, use the
                 <span class="methodname">deleteMessage()</span> method.
            </p>

            <div class="example"><div class="info"><p><b>Example #34 Marking a message as processed</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// retrieve 10 messages at once</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$messages</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">getMessages</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span>, <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$messages</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$message</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Mark the message as processed</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">deleteMessage</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span>, <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.queue.api.peek-queue" name="zend.service.windowsazure.storage.queue.api.peek-queue"><div class="info"><h1 class="title">Check if there are messages in a queue</h1></div>
            

            <p class="para">
                Using the following code, a queue can be checked for new messages. Note that the
                queue and message have already been created before.
            </p>

            <div class="example"><div class="info"><p><b>Example #35 Check if there are messages in a queue</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Queue<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// retrieve 10 messages at once</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$messages</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">peekMessages</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testqueue'</span>, <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$messages</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$message</span>-&gt;<span style="color: #006600;">MessageText</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Note that messages that are read using  <span class="methodname">peekMessages()</span> will
                not become invisible in the queue, nor can they be marked as processed using the
                 <span class="methodname">deleteMessage()</span> method. To do this, use
                 <span class="methodname">getMessages()</span> instead.
            </p>
        </div>
    </div>
</div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.twitter.html">Zend_Service_Twitter</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.service.html">Zend_Service</a></li>
  <li><a href="zend.service.introduction.html">Introduction</a></li>
  <li><a href="zend.service.akismet.html">Zend_Service_Akismet</a></li>
  <li><a href="zend.service.amazon.html">Zend_Service_Amazon</a></li>
  <li><a href="zend.service.amazon.ec2.html">Zend_Service_Amazon_Ec2</a></li>
  <li><a href="zend.service.amazon.ec2.instance.html">Zend_Service_Amazon_Ec2: Instances</a></li>
  <li><a href="zend.service.amazon.ec2.windows.instance.html">Zend_Service_Amazon_Ec2: Windows Instances</a></li>
  <li><a href="zend.service.amazon.ec2.reserved.instance.html">Zend_Service_Amazon_Ec2: Reserved Instances</a></li>
  <li><a href="zend.service.amazon.ec2.cloudwatch.html">Zend_Service_Amazon_Ec2: CloudWatch Monitoring</a></li>
  <li><a href="zend.service.amazon.ec2.images.html">Zend_Service_Amazon_Ec2: Amazon Machine Images (AMI)</a></li>
  <li><a href="zend.service.amazon.ec2.ebs.html">Zend_Service_Amazon_Ec2: Elastic Block Storage (EBS)</a></li>
  <li><a href="zend.service.amazon.ec2.elasticip.html">Zend_Service_Amazon_Ec2: Elastic IP Addresses</a></li>
  <li><a href="zend.service.amazon.ec2.keypairs.html">Zend_Service_Amazon_Ec2: Keypairs</a></li>
  <li><a href="zend.service.amazon.ec2.zones.html">Zend_Service_Amazon_Ec2: Regions and Availability Zones</a></li>
  <li><a href="zend.service.amazon.ec2.securitygroups.html">Zend_Service_Amazon_Ec2: Security Groups</a></li>
  <li><a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a></li>
  <li><a href="zend.service.amazon.sqs.html">Zend_Service_Amazon_Sqs</a></li>
  <li><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></li>
  <li><a href="zend.service.delicious.html">Zend_Service_Delicious</a></li>
  <li><a href="zend.service.developergarden.html">Zend_Service_DeveloperGarden</a></li>
  <li><a href="zend.service.flickr.html">Zend_Service_Flickr</a></li>
  <li><a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a></li>
  <li><a href="zend.service.nirvanix.html">Zend_Service_Nirvanix</a></li>
  <li><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></li>
  <li><a href="zend.service.simpy.html">Zend_Service_Simpy</a></li>
  <li><a href="zend.service.slideshare.html">Zend_Service_SlideShare</a></li>
  <li><a href="zend.service.strikeiron.html">Zend_Service_StrikeIron</a></li>
  <li><a href="zend.service.strikeiron.bundled-services.html">Zend_Service_StrikeIron: Bundled Services</a></li>
  <li><a href="zend.service.strikeiron.advanced-uses.html">Zend_Service_StrikeIron: Advanced Uses</a></li>
  <li><a href="zend.service.technorati.html">Zend_Service_Technorati</a></li>
  <li><a href="zend.service.twitter.html">Zend_Service_Twitter</a></li>
  <li class="active"><a href="zend.service.windowsazure.html">Zend_Service_WindowsAzure</a></li>
  <li><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>